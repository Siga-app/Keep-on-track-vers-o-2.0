{"code":"!function(n,e){for(var t in e)n[t]=e[t]}(window,function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&\"object\"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:n}),2&e&&\"string\"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,\"a\",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p=\"\",t(t.s=645)}({0:function(n,e){var t,r,o=n.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function u(){throw new Error(\"clearTimeout has not been defined\")}function c(n){if(t===setTimeout)return setTimeout(n,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(n,0);try{return t(n,0)}catch(e){try{return t.call(null,n,0)}catch(e){return t.call(this,n,0)}}}!function(){try{t=\"function\"==typeof setTimeout?setTimeout:i}catch(n){t=i}try{r=\"function\"==typeof clearTimeout?clearTimeout:u}catch(n){r=u}}();var a,f=[],s=!1,l=-1;function p(){s&&a&&(s=!1,a.length?f=a.concat(f):l=-1,f.length&&d())}function d(){if(!s){var n=c(p);s=!0;for(var e=f.length;e;){for(a=f,f=[];++l<e;)a&&a[l].run();l=-1,e=f.length}a=null,s=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(e){try{return r.call(null,n)}catch(e){return r.call(this,n)}}}(n)}}function h(n,e){this.fun=n,this.array=e}function v(){}o.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];f.push(new h(n,e)),1!==f.length||s||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(n){return[]},o.binding=function(n){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(n){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},14:function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,\"loaded\",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,\"id\",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},465:function(n,e,t){var r=t(!function(){var n=new Error(\"Cannot find module 'child_process'\");throw n.code=\"MODULE_NOT_FOUND\",n}()).spawn;function o(n){var e=null;return n.replace(/(\\d+) \\((.*?)\\)\\s(.+?)\\s(\\d+)\\s/g,(function(n,t,r,o,i){e={PID:t,COMMAND:r,PPID:i,STAT:o}})),e}n.exports={tree:function(n){return n.split(\"\\n\").map(o).filter(Boolean)},pidsForTree:function(n,e){\"number\"==typeof e&&(e=e.toString());var t=[e],r=[];return n.forEach((function(n){-1!==t.indexOf(n.PPID)&&(t.push(n.PID),r.push(n))})),r},getStat:function(){return new Promise((function(n){var e=r(\"sh\",[\"-c\",\"ls /proc | grep -E '^[0-9]+$' | xargs -I{} cat /proc/{}/stat\"],{stdio:[\"pipe\",\"pipe\",\"pipe\"]}),t=\"\";e.stdout.on(\"data\",(function(n){return t+=n})),e.on(\"close\",(function(){return n(t)}))}))}}},488:function(n,e,t){var r=t(!function(){var n=new Error(\"Cannot find module 'child_process'\");throw n.code=\"MODULE_NOT_FOUND\",n}()).spawn;n.exports=function(n,e){var t=new Set([parseInt(n,10)]),o=\"\",i=r(\"ps\",[\"-A\",\"-o\",\"ppid,pid\"]);i.stdout.on(\"data\",(function(n){o+=n.toString(\"ascii\")})),i.on(\"close\",(function(){try{var n=o.split(\"\\n\").slice(1).map((function(n){return n.trim()})).reduce((function(n,e){var r=e.split(/\\s+/),o=parseInt(r[0],10);if(t.has(o)){var i=parseInt(r[1],10);n.push(i),t.add(i)}return n}),[]);e(null,n)}catch(n){e(n,null)}}))}},502:function(n,e,t){(function(n,e){var r=t(!function(){var n=new Error(\"Cannot find module 'child_process'\");throw n.code=\"MODULE_NOT_FOUND\",n}()).exec,o=t(488),i=t(465),u=!0;r(\"ps\",(function(n){e.exports.hasPS=u=!n})),e.exports=function(e,t){if(\"number\"==typeof e&&(e=e.toString()),u&&!n.env.NO_PS)return o(e,t);i.getStat().then(i.tree).then((function(n){return i.pidsForTree(n,e)})).then((function(n){return t(null,n.map((function(n){return n.PID})))})).catch((function(n){return t(n)}))},e.parent||e.exports(n.argv[2],(function(n,e){return console.log(e)})),e.exports.hasPS=u}).call(this,t(0),t(14)(n))},645:function(n,e,t){(function(n,e){function r(n,e,t,r,o,i,u){try{var c=n[i](u),a=c.value}catch(n){return void t(n)}c.done?e(a):Promise.resolve(a).then(r,o)}function o(n){return function(){var e=this,t=arguments;return new Promise((function(o,i){var u=n.apply(e,t);function c(n){r(u,o,i,c,a,\"next\",n)}function a(n){r(u,o,i,c,a,\"throw\",n)}c(void 0)}))}}var i=t(!function(){var n=new Error(\"Cannot find module 'tap'\");throw n.code=\"MODULE_NOT_FOUND\",n}()).test,u=t(!function(){var n=new Error(\"Cannot find module 'fs'\");throw n.code=\"MODULE_NOT_FOUND\",n}()).readFileSync,c=t(!function(){var n=new Error(\"Cannot find module 'child_process'\");throw n.code=\"MODULE_NOT_FOUND\",n}()).spawn,a=t(502),f=t(465),s=f.tree,l=f.pidsForTree,p=f.getStat;function d(n,t){var r=c(\"node\",[\"\".concat(e,\"/fixtures/index.js\"),t],{stdio:\"pipe\"});setTimeout((function(){var e=r.pid;a(e,(function(r,o){o.concat([e]).forEach((function(n){c(\"kill\",[\"-s\",\"SIGTERM\",n])})),n.equal(o.length,2*t),n.end()}))}),1e3)}\"darwin\"!==n.platform&&i(\"reads from /proc\",function(){var n=o(regeneratorRuntime.mark((function n(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p();case 2:t=n.sent,e.ok(t.split(\"\\n\").length>1);case 4:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),i(\"tree for live env\",function(){var n=o(regeneratorRuntime.mark((function n(t){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=4079,o=u(e+\"/fixtures/out2\",\"utf8\"),n.next=4,s(o);case 4:i=n.sent,t.deepEqual(l(i,r).map((function(n){return n.PID})),[\"4080\"]);case 6:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),i(\"can read full process tree\",(function(n){d(n,1)})),i(\"can read full process tree with multiple processes\",(function(n){d(n,2)}))}).call(this,t(0),\"/\")}}));","extractedComments":[]}